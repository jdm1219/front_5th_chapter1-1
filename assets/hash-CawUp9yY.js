import{a as l,s as a,R as r,r as i}from"./routes-D0uOmrGX.js";const s=document.body.querySelector("#root"),u=l({mount:s,routes:i,beforeEnter:(e,t)=>{e.requiresAuth&&!a.loggedIn?t(r.LOGIN):e.path===r.LOGIN&&a.loggedIn?t(r.MAIN):t()}});s.addEventListener("click",e=>{var t,o;if(((t=e.target)==null?void 0:t.id)==="logout"){e.preventDefault(),a.logout(),u.push(r.LOGIN);return}if(((o=e.target)==null?void 0:o.nodeName)==="A"){e.preventDefault(),u.push(e.target.href.replace(location.origin,""));return}});s.addEventListener("submit",e=>{if(e.target&&e.target.id==="login-form"){e.preventDefault();const t=e.target.querySelector("#username").value;a.setUser({username:t,email:"",bio:""}),u.push(r.MAIN);return}if(e.target&&e.target.id==="profile-form"){e.preventDefault();const t=e.target.querySelector("#username").value,o=e.target.querySelector("#email").value,n=e.target.querySelector("#bio").value;a.setUser({username:t,email:o,bio:n});return}});
